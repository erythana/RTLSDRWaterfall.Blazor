@using Microsoft.JSInterop
@inject WaterfallInterop WaterfallInterop

<h3>Waterfall-Test</h3>
<div class="waterfall">
</div>

@if (!_preventRerender)
{
    <script src="./_content/RTLSDRWaterfall.Blazor/index.bundle.js"></script>
}

@code
{
    private bool _preventRerender;
    private string test = "2016-10-08, 10:01:03, 24000000, 25000000, 1000000, 3, -2.02\n2016-10-08, 10:01:03, 25000000, 26000000, 1000000, 3, -2.98\n2016-10-08, 10:01:03, 26000000, 27000000, 1000000, 3, 3.93\n2016-10-08, 10:01:03, 27000000, 28000000, 1000000, 3, -3.36\n2016-10-08, 10:01:03, 28000000, 29000000, 1000000, 3, -0.88\n2016-10-08, 10:01:03, 29000000, 30000000, 1000000, 3, 2.76\n2016-10-08, 10:01:03, 30000000, 31000000, 1000000, 3, 3.96\n2016-10-08, 10:01:03, 31000000, 32000000, 1000000, 3, 3.16\n2016-10-08, 10:01:03, 32000000, 33000000, 1000000, 3, 2.36\n2016-10-08, 10:01:03, 33000000, 34000000, 1000000, 3, 1.25\n2016-10-08, 10:01:03, 34000000, 35000000, 1000000, 3, 1.04\n2016-10-08, 10:01:03, 35000000, 36000000, 1000000, 3, 2.09\n2016-10-08, 10:01:03, 36000000, 37000000, 1000000, 3, 1.29\n2016-10-08, 10:01:03, 37000000, 38000000, 1000000, 3, 12.20\n2016-10-08, 10:01:03, 38000000, 39000000, 1000000, 3, 1.57\n2016-10-08, 10:01:03, 39000000, 40000000, 1000000, 3, 1.62";

    override protected async Task OnAfterRenderAsync(bool firstRender)
    {
        _preventRerender = firstRender;
        await WaterfallInterop.DisplayRTLPowerData(test);
    }


}